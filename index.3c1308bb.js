const e=document.getElementById("posters-container"),t=document.getElementById("pagination"),n=document.getElementById("event-info"),a=document.getElementById("search-input"),l=document.getElementById("country-select"),d=document.getElementById("search-button"),o="LIhcnyJs36Qars7XbSGaCVMB6e31wrqF";let c=1,i=0,s="",m="";function r(e){let t=document.createElement("a");return t.href="#",t.textContent=e,e===c&&t.classList.add("active"),t.addEventListener("click",()=>{c=e,g()}),t}function p(){let e=document.createElement("span");return e.textContent="...",e.classList.add("ellipsis"),e}function u(e){let t=`https://app.ticketmaster.com/discovery/v2/events/${e}.json?apikey=${o}`;fetch(t).then(e=>e.json()).then(e=>{let t=document.getElementById("modal-overlay"),a=document.getElementById("modal-image");document.getElementById("modal-image-circular");let l=document.getElementById("modal-content");a.src=e.images[0].url,a.alt=e.name,t.style.display="block";let d=e._embedded.venues[0],o=`https://www.google.com/maps/search/?api=1&query=${d.location.latitude},${d.location.longitude}`;l.innerHTML=`
        <span id="modal-close">&times;</span>
        <img id="modal-image-circular" src="${e.images[0].url}" alt="${e.name}" />
        <div id= "modal-upper"><img id="modal-image" src="${e.images[0].url}" alt="${e.name}" />
        <div id="modal-info">
          <p class="subtitle-modal">Info:<span>${e.info}</span></p>
          <p class="subtitle-modal"><i class="fas fa-map-marker-alt"></i>Where("Haz click"): <a href="${o}" target="_blank" class="location-link"><span class="location-text">${d.name}</span></a></p>
          <p class="subtitle-modal">When: <span>${e.dates.start.localDate}</span></p></div></div>
          <div id="info-lower">
          <p class="subtitle-modal">Who: <span>${e._embedded.attractions[0].name}</span></p>
          <p class="subtitle-modal">Price: <span>${e.priceRanges[0].min} - ${e.priceRanges[0].max} ${e.priceRanges[0].currency}</span></p>
          <button class="btn btn-blue" onclick="window.open('${e.url}', '_blank')">Buy Tickets</button></div>
        <button class="btn btn-author" onclick="window.open('${e._embedded.attractions[0].url}', '_blank')">More about this author</button>
          
      `,n.innerHTML=""}),document.addEventListener("click",e=>{let t=document.getElementById("modal-overlay");e.target===t&&(t.style.display="none")})}function h(){s=a.value.trim(),c=1,g()}function g(){var n;let a;(a=`https://app.ticketmaster.com/discovery/v2/events.json?apikey=${o}&size=16&page=${n=c}`,""!==s&&(a+=`&keyword=${encodeURIComponent(s)}`),""!==m&&(a+=`&countryCode=${m}`),fetch(a).then(e=>e.json()).then(e=>{let t=e._embedded.events;return e.page.totalElements,i=e.page.totalPages,t})).then(n=>{e.innerHTML="",n.forEach(t=>{let n=document.createElement("div");n.className="poster";let a=document.createElement("div");a.className="card";let l=document.createElement("img");l.src=t.images[0].url,l.alt=t.name,a.appendChild(l);let d=document.createElement("div");d.className="event-info";let o=document.createElement("h3");o.textContent=t.name,d.appendChild(o);let c=document.createElement("p");c.innerHTML=`<i class="fa fa-calendar"></i> Fecha: ${t.dates.start.localDate}`,d.appendChild(c);let i=document.createElement("p");i.innerHTML=`<i class="fa fa-map-marker"></i> Ubicaci\xf3n: ${t._embedded.venues[0].name}`,d.appendChild(i),a.appendChild(d),n.appendChild(a),e.appendChild(n),n.addEventListener("click",()=>{u(t.id)}),n.addEventListener("click",()=>{u(t.id),showModal(t)})}),function(){t.innerHTML="";let e=Math.max(2,c-2),n=Math.min(i,c+9),a=r(1);t.appendChild(a),e>2&&t.appendChild(p());for(let a=e;a<=n;a++){let e=r(a);t.appendChild(e)}n<i-1&&t.appendChild(p());let l=r(i);t.appendChild(l)}()})}(function(){let e=`https://app.ticketmaster.com/discovery/v2/countries.json?apikey=${o}`;return fetch(e).then(e=>e.json()).then(e=>e._embedded.countries)})().then(e=>(function(e){l.innerHTML="";let t=document.createElement("option");t.value="",t.textContent="Todos los pa\xedses",l.appendChild(t),e.forEach(e=>{let t=document.createElement("option");t.value=e.countryCode,t.textContent=e.name,l.appendChild(t)})})(e)).catch(e=>console.error(e)),d.addEventListener("click",h),a.addEventListener("keydown",e=>{13===e.keyCode&&h()}),l.addEventListener("change",function(){m=l.value,c=1,g()}),g(),document.getElementsByClassName("poster");
//# sourceMappingURL=index.3c1308bb.js.map
